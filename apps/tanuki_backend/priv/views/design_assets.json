{
	"_id": "_design/assets",

	"language": "javascript",

	"views": {
		"tags": {
			"map": "function (doc) { if (doc.tags && Array.isArray(doc.tags)) { doc.tags.forEach(function (tag) { emit(tag.toLowerCase(), 1); }); } }",
			"reduce": "_count"
		}
	}
}

/*
tags_map() ->
function (doc) {
    if (doc.tags && Array.isArray(doc.tags)) {
        doc.tags.forEach(function (tag) {
            emit(tag.toLowerCase(), 1);
        });
    }
}
*/
