* TODO

** GraphQL Rewrite

- [TODO] Rename the document fields to match GraphQL schema
  - do away with the field renaming in resolvers.js
  - do away with the "file_owner" field, it's useless now
  - consider removing "userdate" from Asset type, seems useless
- [TODO] consider defining a DateTime type for datetime, userdate
  - c.f. https://www.apollographql.com/docs/graphql-tools/scalars.html
- [TODO] consider whether "original" date should be in schema
  - test/metadata.js used to check that original_date was null for image w/o EXIF
- [TODO] Deployment must change http://localhost:3000/graphql instead of /api
- [TODO] Perform migration on production
  - ensure the migration procedure is documented
- [TODO] Replace bootstrap with bulman in the Elm interface
- [TODO] mujina must use "id" instead of "checksum" in asset queries

** General Items

- [TODO] design the user login and comments system
- [TODO] Need to read `graphqlEndpoint` in Elm code from configuration file
  - currently it is modified at deployment time using `sed`
- [TODO] Look for means of ensuring LevelDB data integrity
  - Look into enabling extra LevelDB checks (`paranoidChecks`, `verifyChecksums`)
- [TODO] Use PouchDB/CouchDB replication to keep a local backup
  - Perform backup after N operations, or every T minutes
  - Recovery is to replace corrupted DB with backup
  - Could just be something that is manually invoked as needed
- [TODO] Support HEIC/HEIF file formats
- [TODO] When performing image manipulations, invoke `sharp.withMetadata()` to preserve metadata
- [TODO] Add a "people" field
  - Need an admin screen to move a tag from "tags" to "people"
- [TODO] Support an "album" for the assets
  - Would be on details/edit page for benefit of uploading
  - Expose on main page as a selector
  - Assets can belong to multiple albums
  - Eventually support "smart" albums based on asset attributes
- [TODO] api to perform database compaction
- [TODO] Review express.js performance guidelines
  - http://expressjs.com/en/advanced/best-practice-performance.html

** Node.js Rewrite

- [TODO] Figure out how to use layouts with EJS and express.js
  - apparently EJS uses partials instead of a layout
  - Sails.js somehow manages to have real layouts with EJS
- [TODO] Set the `production` flag in `gulpfile.js` based on environment
- [TODO] Look at https://moment.github.io/luxon/docs/ for a nice date/time library
- [TODO] Maybe use https://github.com/expressjs/csurf for CSRF protection
- [TODO] Consider whether server needs a SIGINT handler (as described in pm2 docs)

** Custom queries

- [TODO] Once a user has removed a custom query, invoke PouchDB's `db.viewCleanup()` to clean them up
  - Otherwise you get stale query results

** Productization

- [TODO] Replace the web banner with something that looks good
- [TODO] Include list of all dependencies and their copyright/license as appropriate
  - fontawesome.io
